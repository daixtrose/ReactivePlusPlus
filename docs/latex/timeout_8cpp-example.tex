\hypertarget{timeout_8cpp-example}{}\doxysection{timeout.\+cpp}

\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <rpp/rpp.hpp>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ main()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{classrpp_1_1subjects_1_1publish__subject}{rpp::subjects::publish\_subject<int>}}\ subj\{\};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ subj.get\_observable()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ .timeout(std::chrono::milliseconds\{450\},\ \mbox{\hyperlink{classrpp_1_1schedulers_1_1new__thread}{rpp::schedulers::new\_thread}}\{\})}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ .subscribe([](\textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v)\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}new\ value\ "{}}\ <<\ v\ <<\ std::endl;\ \},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](std::exception\_ptr\ err)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::rethrow\_exception(err);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}\ (\textcolor{keyword}{const}\ std::exception\&\ exc)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}ERR:\ "{}}\ <<\ exc.what()\ <<\ std::endl;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ []()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}completed"{}}\ <<\ std::endl;\ \});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 10;\ ++i)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ std::this\_thread::sleep\_for(std::chrono::milliseconds\{i\ *\ 100\});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ subj.get\_subscriber().on\_next(i);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Output:}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ new\ value\ 0}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ new\ value\ 1}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ new\ value\ 2}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ new\ value\ 3}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ new\ value\ 4}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ ERR\ :\ Timeout\ reached}}
\DoxyCodeLine{\textcolor{comment}{}\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{classrpp_1_1subjects_1_1publish__subject}{rpp::subjects::publish\_subject<int>}}\ subj\{\};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ subj.get\_observable()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ .timeout(std::chrono::milliseconds\{450\},\ rpp::source::just(100),\ \mbox{\hyperlink{classrpp_1_1schedulers_1_1new__thread}{rpp::schedulers::new\_thread}}\{\})}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ .subscribe([](\textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v)\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}new\ value\ "{}}\ <<\ v\ <<\ std::endl;\ \},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ []()\ \{\ std::cout\ <<\ \textcolor{stringliteral}{"{}completed"{}}\ <<\ std::endl;\ \});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 10;\ ++i)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ std::this\_thread::sleep\_for(std::chrono::milliseconds\{i\ *\ 100\});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ subj.get\_subscriber().on\_next(i);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Output:}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//new\ value\ 0}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//new\ value\ 1}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//new\ value\ 2}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//new\ value\ 3}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//new\ value\ 4}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//new\ value\ 100}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//completed}}
\DoxyCodeLine{\textcolor{comment}{}\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\}}

\end{DoxyCodeInclude}
 