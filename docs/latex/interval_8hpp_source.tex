\hypertarget{interval_8hpp_source}{}\doxysection{interval.\+hpp}
\label{interval_8hpp_source}\index{src/rpp/rpp/sources/interval.hpp@{src/rpp/rpp/sources/interval.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ReactivePlusPlus\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ Copyright\ Aleksey\ Loginov\ 2022\ -\/\ present.}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Distributed\ under\ the\ Boost\ Software\ License,\ Version\ 1.0.}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ \ \ \ (See\ accompanying\ file\ LICENSE\_1\_0.txt\ or\ copy\ at}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ https://www.boost.org/LICENSE\_1\_0.txt)}}
\DoxyCodeLine{00007\ \textcolor{comment}{//}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ Project\ home:\ https://github.com/victimsnino/ReactivePlusPlus}}
\DoxyCodeLine{00009\ \textcolor{comment}{//}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <rpp/sources/fwd.hpp>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <rpp/sources/create.hpp>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <rpp/schedulers/fwd.hpp>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ <rpp/schedulers/trampoline\_scheduler.hpp>}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ IMPLEMENTATION\_FILE(interval\_tag);}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{keyword}{namespace\ }rpp::observable}
\DoxyCodeLine{00024\ \{}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keyword}{template}<schedulers::constraint::scheduler\ TScheduler\ \textcolor{comment}{/*=\ schedulers::trampoline\ */}>}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{group__creational__operators_ga2c3002a4f3af8fcd0f73fab9bf5a0ea3}{interval}}(schedulers::duration\ period,\ \textcolor{keyword}{const}\ TScheduler\&\ scheduler\ \textcolor{comment}{/*\ =\ TScheduler\{\}\ */})\ \textcolor{keyword}{requires}\ rpp::details::is\_header\_included<rpp::details::interval\_tag,\ TScheduler>}
\DoxyCodeLine{00047\ \ \ \ \ \{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group__creational__operators_ga2c3002a4f3af8fcd0f73fab9bf5a0ea3}{interval}}(period,\ period,\ scheduler);}
\DoxyCodeLine{00049\ \ \ \ \ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keyword}{template}<schedulers::constraint::scheduler\ TScheduler\ \textcolor{comment}{/*=\ schedulers::trampoline*/}>}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{group__creational__operators_ga2c3002a4f3af8fcd0f73fab9bf5a0ea3}{interval}}(schedulers::duration\ first\_delay,\ schedulers::duration\ period,\ \textcolor{keyword}{const}\ TScheduler\&\ scheduler\ \textcolor{comment}{/*\ =\ TScheduler\{\}\ */})\ \textcolor{keyword}{requires}\ rpp::details::is\_header\_included<rpp::details::interval\_tag,\ TScheduler>}
\DoxyCodeLine{00072\ \ \ \ \ \{}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ source::create<size\_t>([first\_delay,\ period,\ scheduler](\textcolor{keyword}{auto}\&\&\ subscriber)}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ worker\ =\ scheduler.create\_worker(subscriber.get\_subscription());}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ worker.schedule(first\_delay,\ [counter\ =\ \textcolor{keywordtype}{size\_t}\{\},\ subscriber\ =\ std::forward<\textcolor{keyword}{decltype}(subscriber)>(subscriber),\ period]()\ mutable-\/>\ schedulers::optional\_duration}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ subscriber.on\_next(counter++);}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ period;}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00082\ \ \ \ \ \}}
\DoxyCodeLine{00083\ \}\ \textcolor{comment}{//\ namespace\ rpp::observable}}

\end{DoxyCode}
