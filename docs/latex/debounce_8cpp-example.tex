\hypertarget{debounce_8cpp-example}{}\doxysection{debounce.\+cpp}

\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <rpp/rpp.hpp>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int} main()}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \{}
\DoxyCodeLine{        \textcolor{keyword}{auto} start = rpp::schedulers::clock\_type::now();}
\DoxyCodeLine{        rpp::source::just(\mbox{\hyperlink{classrpp_1_1schedulers_1_1trampoline}{rpp::schedulers::current\_thread}}\{\}, 1, 2, 5, 6, 9, 10)}
\DoxyCodeLine{                .flat\_map([](\textcolor{keywordtype}{int} v)}
\DoxyCodeLine{                \{}
\DoxyCodeLine{                    \textcolor{keywordflow}{return} rpp::source::just(v)}
\DoxyCodeLine{                            .delay(std::chrono::milliseconds(500) * v, \mbox{\hyperlink{classrpp_1_1schedulers_1_1trampoline}{rpp::schedulers::current\_thread}}\{\});}
\DoxyCodeLine{                \})}
\DoxyCodeLine{                .tap([\&](\textcolor{keywordtype}{int} v)}
\DoxyCodeLine{                \{}
\DoxyCodeLine{                    std::cout << \textcolor{stringliteral}{"{}Sent value "{}} << v << \textcolor{stringliteral}{"{} at "{}} << std::chrono::duration\_cast<std::chrono::milliseconds>(rpp::schedulers::clock\_type::now() -\/ start).count() << std::endl;}
\DoxyCodeLine{                \})}
\DoxyCodeLine{                .debounce(std::chrono::milliseconds\{700\}, \mbox{\hyperlink{classrpp_1_1schedulers_1_1trampoline}{rpp::schedulers::current\_thread}}\{\})}
\DoxyCodeLine{                .subscribe([](\textcolor{keywordtype}{int} v) \{ std::cout << \textcolor{stringliteral}{"{}new value "{}} << v << std::endl; \},}
\DoxyCodeLine{                           []() \{ std::cout << \textcolor{stringliteral}{"{}completed"{}} << std::endl; \});}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{comment}{// Output:}}
\DoxyCodeLine{        \textcolor{comment}{// Sent value 1 at 504}}
\DoxyCodeLine{        \textcolor{comment}{// Sent value 2 at 1009}}
\DoxyCodeLine{        \textcolor{comment}{// new value 2}}
\DoxyCodeLine{        \textcolor{comment}{// Sent value 5 at 2505}}
\DoxyCodeLine{        \textcolor{comment}{// Sent value 6 at 3010}}
\DoxyCodeLine{        \textcolor{comment}{// new value 6}}
\DoxyCodeLine{        \textcolor{comment}{// Sent value 9 at 4507}}
\DoxyCodeLine{        \textcolor{comment}{// Sent value 10 at 5007}}
\DoxyCodeLine{        \textcolor{comment}{// new value 10}}
\DoxyCodeLine{        \textcolor{comment}{// completed}}
\DoxyCodeLine{\textcolor{comment}{}    \}}
\DoxyCodeLine{    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\}}

\end{DoxyCodeInclude}
 