\hypertarget{subscriber__base_8hpp_source}{}\doxysection{subscriber\+\_\+base.\+hpp}
\label{subscriber__base_8hpp_source}\index{src/rpp/rpp/subscribers/details/subscriber\_base.hpp@{src/rpp/rpp/subscribers/details/subscriber\_base.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//                  ReactivePlusPlus library}}
\DoxyCodeLine{2 \textcolor{comment}{//}}
\DoxyCodeLine{3 \textcolor{comment}{//          Copyright Aleksey Loginov 2022 -\/ present.}}
\DoxyCodeLine{4 \textcolor{comment}{// Distributed under the Boost Software License, Version 1.0.}}
\DoxyCodeLine{5 \textcolor{comment}{//    (See accompanying file LICENSE\_1\_0.txt or copy at}}
\DoxyCodeLine{6 \textcolor{comment}{//          https://www.boost.org/LICENSE\_1\_0.txt)}}
\DoxyCodeLine{7 \textcolor{comment}{//}}
\DoxyCodeLine{8 \textcolor{comment}{// Project home: https://github.com/victimsnino/ReactivePlusPlus}}
\DoxyCodeLine{9 \textcolor{comment}{//}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <rpp/subscriptions/composite\_subscription.hpp>}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <rpp/subscriptions/subscription\_guard.hpp>}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 \textcolor{keyword}{namespace }rpp::details}
\DoxyCodeLine{17 \{}
\DoxyCodeLine{22 \textcolor{keyword}{class }\mbox{\hyperlink{classrpp_1_1details_1_1subscriber__base}{subscriber\_base}}}
\DoxyCodeLine{23 \{}
\DoxyCodeLine{24 \textcolor{keyword}{public}:}
\DoxyCodeLine{25     \mbox{\hyperlink{classrpp_1_1details_1_1subscriber__base}{subscriber\_base}}(\mbox{\hyperlink{classrpp_1_1composite__subscription}{composite\_subscription}}\&\& subscription = \mbox{\hyperlink{classrpp_1_1composite__subscription}{composite\_subscription}}\{\})}
\DoxyCodeLine{26         : m\_subscription\{ std::move(subscription) \} \{ \}}
\DoxyCodeLine{27 }
\DoxyCodeLine{28     \mbox{\hyperlink{classrpp_1_1details_1_1subscriber__base}{subscriber\_base}}(\textcolor{keyword}{const} \mbox{\hyperlink{classrpp_1_1composite__subscription}{composite\_subscription}}\& subscription)}
\DoxyCodeLine{29         : m\_subscription\{subscription\}\{ \}}
\DoxyCodeLine{30     }
\DoxyCodeLine{31 }
\DoxyCodeLine{32     \textcolor{keyword}{const} \mbox{\hyperlink{classrpp_1_1composite__subscription}{composite\_subscription}}\& get\_subscription()\textcolor{keyword}{ const}}
\DoxyCodeLine{33 \textcolor{keyword}{    }\{}
\DoxyCodeLine{34         \textcolor{keywordflow}{return} m\_subscription;}
\DoxyCodeLine{35     \}}
\DoxyCodeLine{36 }
\DoxyCodeLine{37     [[nodiscard]] \textcolor{keywordtype}{bool} is\_subscribed()\textcolor{keyword}{ const}}
\DoxyCodeLine{38 \textcolor{keyword}{    }\{}
\DoxyCodeLine{39         \textcolor{keywordflow}{return} m\_subscription.\mbox{\hyperlink{classrpp_1_1subscription__base_ad9c07157024e7f68ce815d971c3faaf2}{is\_subscribed}}();}
\DoxyCodeLine{40     \}}
\DoxyCodeLine{41 }
\DoxyCodeLine{42     \textcolor{keywordtype}{void} unsubscribe()\textcolor{keyword}{ const}}
\DoxyCodeLine{43 \textcolor{keyword}{    }\{}
\DoxyCodeLine{44         m\_subscription.\mbox{\hyperlink{classrpp_1_1subscription__base_af07ca7cdfb9758441c0729cbe3e6d19d}{unsubscribe}}();}
\DoxyCodeLine{45     \}}
\DoxyCodeLine{46 }
\DoxyCodeLine{47 \textcolor{keyword}{protected}:}
\DoxyCodeLine{48     \textcolor{keywordtype}{void} do\_if\_subscribed\_and\_unsubscribe(\textcolor{keyword}{const} \textcolor{keyword}{auto}\& callable)\textcolor{keyword}{ const}}
\DoxyCodeLine{49 \textcolor{keyword}{    }\{}
\DoxyCodeLine{50         \textcolor{keywordflow}{if} (!is\_subscribed())}
\DoxyCodeLine{51             \textcolor{keywordflow}{return};}
\DoxyCodeLine{52 }
\DoxyCodeLine{53         \mbox{\hyperlink{classrpp_1_1subscription__guard}{subscription\_guard}} guard\{m\_subscription\};}
\DoxyCodeLine{54         callable();}
\DoxyCodeLine{55     \}}
\DoxyCodeLine{56 }
\DoxyCodeLine{57 \textcolor{keyword}{private}:}
\DoxyCodeLine{58     \mbox{\hyperlink{classrpp_1_1composite__subscription}{composite\_subscription}} m\_subscription\{\};}
\DoxyCodeLine{59 \};}
\DoxyCodeLine{60 \} \textcolor{comment}{// namespace rpp::details}}

\end{DoxyCode}
